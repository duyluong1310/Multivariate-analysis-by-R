---
title: "Random Forest / Gradient Boosting"
output:
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
---
knitr::opts_chunk$set(comment="#>", message=FALSE, warning=FALSE)
library(tidymodels)
set.seed(42)
sp <- initial_split(iris, strata = Species)
tr <- training(sp); te <- testing(sp)

rf <- rand_forest(mtry = 2, trees = 300, min_n = 3) |>
  set_engine("ranger") |>
  set_mode("classification")

wf <- workflow() |>
  add_model(rf) |>
  add_formula(Species ~ .)

fit <- fit(wf, tr)
fit |>
  predict(te) |>
  bind_cols(te) |>
  metrics(truth = Species, estimate = .pred_class)
